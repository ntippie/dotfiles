#!/bin/sh

brewfile="$XDG_STATE_HOME"/Brewfile
casks="$XDG_STATE_HOME"/brew-casks.txt
formulae="$XDG_STATE_HOME"/brew-formulae.txt
app_store="$XDG_STATE_HOME"/mac-apps.txt

brew list --cask | tr -s ' ' '\n' > "$casks"
brew leaves --installed-on-request > "$formulae"

mas list > "$app_store"

brew bundle dump --force --no-upgrade --file="$brewfile"
